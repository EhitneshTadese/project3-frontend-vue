import{T as C}from"./TutorialDataService.45b0f819.js";import{L as c}from"./LessonDataService.b645eb41.js";import{_ as g,o as u,bv as v,f as t,e,a as n,t as m,g as p,bE as E,c as L,F as f,r as V,d as h}from"./index.fcfdb788.js";import{a as l,V as D}from"./VRow.4d970496.js";import"./http-common.d7138537.js";import"./index.becf6c0c.js";const T={props:{lesson:Object},data(){return{}},methods:{deleteLesson(){this.$emit("deleteLesson")},updateLesson(){this.$emit("updateLesson")}}};function $(o,s,r,x,d,a){return u(),v(D,null,{default:t(()=>[e(l,{cols:"8",sm:"2"},{default:t(()=>[n("span",null,m(r.lesson.title),1)]),_:1}),e(l,{cols:"8",sm:"4"},{default:t(()=>[n("span",null,m(r.lesson.description),1)]),_:1}),e(l,{cols:"8",sm:"1"},{default:t(()=>[e(p,{size:"x-small",icon:"mdi-pencil",onClick:a.updateLesson},null,8,["onClick"])]),_:1}),e(l,{cols:"8",sm:"1"},{default:t(()=>[e(p,{size:"x-small",icon:"mdi-trash-can",onClick:a.deleteLesson},null,8,["onClick"])]),_:1})]),_:1})}var w=g(T,[["render",$]]);const y={name:"view-tutorial",props:["id"],components:{LessonDisplay:w},data(){return{tutorial:{},lessons:[],message:"Add, Edit or Delete Lessons"}},methods:{retrieveLessons(){C.get(this.id).then(o=>{this.tutorial=o.data,c.getAllLessons(this.id).then(s=>{this.lessons=s.data}).catch(s=>{this.message=s.response.data.message})}).catch(o=>{this.message=o.response.data.message})},goEditTutorial(){this.$router.push({name:"edit",params:{id:this.id}})},goEditLesson(o){this.$router.push({name:"editLesson",params:{tutorialId:this.id,lessonId:o.id}})},goAddLesson(){this.$router.push({name:"addLesson",params:{tutorialId:this.id}})},goDeleteLesson(o){c.deleteLesson(o.tutorialId,o.id).then(()=>{this.retrieveLessons()}).catch(s=>{this.message=s.response.data.message})},cancel(){this.$router.push({name:"tutorials"})}},mounted(){this.retrieveLessons()}};function A(o,s,r,x,d,a){const _=E("LessonDisplay");return u(),L(f,null,[s[8]||(s[8]=n("h2",null,"Tutorial View",-1)),n("h4",null,m(d.message),1),n("h3",null,m(d.tutorial.title),1),e(p,{color:"success",onClick:s[0]||(s[0]=i=>a.goEditTutorial())},{default:t(()=>s[2]||(s[2]=[h("Edit")])),_:1}),e(p,{color:"success",onClick:s[1]||(s[1]=i=>a.goAddLesson(r.id))},{default:t(()=>s[3]||(s[3]=[h("Add Lesson")])),_:1}),e(D,null,{default:t(()=>[e(l,{cols:"8",sm:"2"},{default:t(()=>s[4]||(s[4]=[n("span",{class:"text-h6"},"Title",-1)])),_:1}),e(l,{cols:"8",sm:"4"},{default:t(()=>s[5]||(s[5]=[n("span",{class:"text-h6"},"Description",-1)])),_:1}),e(l,{cols:"8",sm:"1"},{default:t(()=>s[6]||(s[6]=[n("span",{class:"text-h6"},"Edit",-1)])),_:1}),e(l,{cols:"8",sm:"1"},{default:t(()=>s[7]||(s[7]=[n("span",{class:"text-h6"},"Delete",-1)])),_:1})]),_:1}),(u(!0),L(f,null,V(d.lessons,i=>(u(),v(_,{key:i.id,lesson:i,onDeleteLesson:k=>a.goDeleteLesson(i),onUpdateLesson:k=>a.goEditLesson(i)},null,8,["lesson","onDeleteLesson","onUpdateLesson"]))),128))],64)}var F=g(y,[["render",A]]);export{F as default};
