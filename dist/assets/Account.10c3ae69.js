var T=Object.defineProperty;var L=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var N=(t,e,r)=>e in t?T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,C=(t,e)=>{for(var r in e||(e={}))U.call(e,r)&&N(t,r,e[r]);if(L)for(var r of L(e))_.call(e,r)&&N(t,r,e[r]);return t};import{i as R,h as O,a2 as h,a0 as z,aB as q,aa as D,u as J,$ as E,e as o,q as M,a5 as W,av as j,_ as G,o as H,c as K,f as l,d as i,g as V,bF as P,n as Q}from"./index.fcfdb788.js";import{V as w,a as y,b as k,d as A}from"./VCard.b60bd416.js";import{m as X,u as Y,a as S}from"./VOverlay.5b21b0c0.js";import{f as Z}from"./VField.6431dcf7.js";import{V as $}from"./dialog-transition.3318738b.js";import{V as ee}from"./VForm.5e9b4092.js";import{V as b}from"./VTextField.61b9e637.js";import{V as te}from"./VDivider.07fab659.js";import"./VAvatar.d4b3d169.js";const oe=R(C({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean},X({origin:"center center",scrollStrategy:"block",transition:{component:$},zIndex:2400})),"VDialog"),ae=O()({name:"VDialog",props:oe(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{emit:r,slots:f}=e;const n=h(t,"modelValue"),{scopeId:c}=Y(),a=z();function x(s){var d,g;const m=s.relatedTarget,v=s.target;if(m!==v&&((d=a.value)==null?void 0:d.contentEl)&&((g=a.value)==null?void 0:g.globalTop)&&![document,a.value.contentEl].includes(v)&&!a.value.contentEl.contains(v)){const u=j(a.value.contentEl);if(!u.length)return;const p=u[0],F=u[u.length-1];m===p?F.focus():p.focus()}}q&&D(()=>n.value&&t.retainFocus,s=>{s?document.addEventListener("focusin",x):document.removeEventListener("focusin",x)},{immediate:!0});function I(){var s;r("afterEnter"),((s=a.value)==null?void 0:s.contentEl)&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function B(){r("afterLeave")}return D(n,async s=>{var m;s||(await W(),(m=a.value.activatorEl)==null||m.focus({preventScroll:!0}))}),J(()=>{const s=S.filterProps(t),m=E({"aria-haspopup":"dialog"},t.activatorProps),v=E({tabindex:-1},t.contentProps);return o(S,E({ref:a,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},s,{modelValue:n.value,"onUpdate:modelValue":d=>n.value=d,"aria-modal":"true",activatorProps:m,contentProps:v,role:"dialog",onAfterEnter:I,onAfterLeave:B},c),{activator:f.activator,default:function(){for(var d=arguments.length,g=new Array(d),u=0;u<d;u++)g[u]=arguments[u];return o(M,{root:"VDialog"},{default:()=>{var p;return[(p=f.default)==null?void 0:p.call(f,...g)]}})}})}),Z({},a)}}),le={name:"Account",data(){return{firstName:"",lastName:"",email:"",showLogoutDialog:!1}},methods:{updateProfile(){console.log("Updating profile...")},confirmLogout(){this.showLogoutDialog=!0},logout(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.showLogoutDialog=!1,this.$router.push({name:"login"})}},mounted(){const t=JSON.parse(localStorage.getItem("user")||"{}");console.log("Retrieved user data:",t),t&&t.firstName&&t.lastName&&t.email?(this.firstName=t.firstName,this.lastName=t.lastName,this.email=t.email):console.error("User data is not available or malformed:",t)}},re={class:"account-page"};function ne(t,e,r,f,n,c){return H(),K("div",re,[o(w,{class:"mx-auto","max-width":"800"},{default:l(()=>[o(y,{class:"text-h5"},{default:l(()=>e[5]||(e[5]=[i(" Account Settings ")])),_:1}),o(k,null,{default:l(()=>[o(ee,null,{default:l(()=>[o(b,{modelValue:n.firstName,"onUpdate:modelValue":e[0]||(e[0]=a=>n.firstName=a),label:"First Name",variant:"outlined",class:"mb-2"},null,8,["modelValue"]),o(b,{modelValue:n.lastName,"onUpdate:modelValue":e[1]||(e[1]=a=>n.lastName=a),label:"Last Name",variant:"outlined",class:"mb-2"},null,8,["modelValue"]),o(b,{modelValue:n.email,"onUpdate:modelValue":e[2]||(e[2]=a=>n.email=a),label:"Email",variant:"outlined",class:"mb-2"},null,8,["modelValue"]),o(V,{color:"primary",class:"mt-4",onClick:c.updateProfile},{default:l(()=>e[6]||(e[6]=[i(" Update Profile ")])),_:1},8,["onClick"])]),_:1})]),_:1}),o(te),o(A,{class:"logout-section"},{default:l(()=>[o(P),o(V,{color:"error",variant:"elevated",size:"large",onClick:c.confirmLogout},{default:l(()=>[o(Q,{left:""},{default:l(()=>e[7]||(e[7]=[i("mdi-logout")])),_:1}),e[8]||(e[8]=i(" Logout "))]),_:1},8,["onClick"])]),_:1})]),_:1}),o(ae,{modelValue:n.showLogoutDialog,"onUpdate:modelValue":e[4]||(e[4]=a=>n.showLogoutDialog=a),"max-width":"400"},{default:l(()=>[o(w,null,{default:l(()=>[o(y,{class:"text-h5"},{default:l(()=>e[9]||(e[9]=[i(" Confirm Logout ")])),_:1}),o(k,null,{default:l(()=>e[10]||(e[10]=[i(" Are you sure you want to logout? ")])),_:1}),o(A,null,{default:l(()=>[o(P),o(V,{color:"grey-darken-1",variant:"text",onClick:e[3]||(e[3]=a=>n.showLogoutDialog=!1)},{default:l(()=>e[11]||(e[11]=[i(" Cancel ")])),_:1}),o(V,{color:"error",variant:"elevated",onClick:c.logout},{default:l(()=>e[12]||(e[12]=[i(" Logout ")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var Ve=G(le,[["render",ne],["__scopeId","data-v-55d62940"]]);export{Ve as default};
