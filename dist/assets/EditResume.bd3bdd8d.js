import{R as D}from"./ResumeDataService.159c2e7b.js";import{_ as y,o as b,bv as c,f as o,V as g,e as l,d as f,a as d,t as j,g as _}from"./index.fcfdb788.js";import{a as k,b as x,V as U}from"./VCard.b60bd416.js";import{V as w}from"./VForm.5e9b4092.js";import{V as i}from"./VDivider.07fab659.js";import{V as u,a as r}from"./VRow.4d970496.js";import{V as m}from"./VTextField.61b9e637.js";import{V as p}from"./VTextarea.a59759c0.js";import"./http-common.d7138537.js";import"./index.becf6c0c.js";import"./VAvatar.d4b3d169.js";import"./VField.6431dcf7.js";const v={name:"EditResume",props:["id"],data(){return{formData:{resume_name:"",template_type:"",intro_paragraph:"",education:{degree:"",institution_name:"",graduation_date:""},experience:{job_title:"",company_name:"",start_date:"",end_date:"",job_description:""},project:{project_name:"",description:"",project_link:""},interests:{interest:"",description:""},awards:{award_name:"",date_earned:""},skills:{skill_name:"",proficiency_level:""}},message:"Edit your resume and click save"}},created(){this.fetchResumeData()},methods:{async fetchResumeData(){var s,e;try{const n=await D.get(this.id);this.populateForm(n.data)}catch(n){this.message=((e=(s=n.response)==null?void 0:s.data)==null?void 0:e.message)||"Failed to fetch resume data.",console.error("Error fetching resume:",n)}},populateForm(s){this.formData.resume_name=s.resume_name||"",this.formData.template_type=s.template_type||"",this.formData.intro_paragraph=s.intro_paragraph||"",this.formData.education=s.education||{degree:"",institution_name:"",graduation_date:""},this.formData.experience=s.experience||{job_title:"",company_name:"",start_date:"",end_date:"",job_description:""},this.formData.project=s.project||{project_name:"",description:"",project_link:""},this.formData.awards=s.awards||{award_name:"",date_earned:""},this.formData.skills=s.skills||{skill_name:"",proficiency_level:""}},async saveData(){var s,e;try{const n=await D.update(this.id,this.formData);this.message=n.data.message||"Resume updated successfully.",console.log("Updated Resume:",n.data),this.$router.push({name:"resumes"})}catch(n){this.message=((e=(s=n.response)==null?void 0:s.data)==null?void 0:e.message)||"Error updating resume.",console.error("Error updating resume:",n)}},cancel(){this.$router.push({name:"resumes"})}}};function C(s,e,n,R,a,V){return b(),c(g,null,{default:o(()=>[l(U,null,{default:o(()=>[l(k,null,{default:o(()=>e[20]||(e[20]=[f("Edit Resume")])),_:1}),l(x,null,{default:o(()=>[d("h4",null,j(a.message),1),l(w,null,{default:o(()=>[l(i,{class:"my-4"}),e[23]||(e[23]=d("h3",null,"Resume Details",-1)),l(u,null,{default:o(()=>[l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{label:"Resume Name",modelValue:a.formData.resume_name,"onUpdate:modelValue":e[0]||(e[0]=t=>a.formData.resume_name=t)},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{label:"Template Type",modelValue:a.formData.template_type,"onUpdate:modelValue":e[1]||(e[1]=t=>a.formData.template_type=t)},null,8,["modelValue"])]),_:1}),l(r,{cols:"12"},{default:o(()=>[l(p,{label:"Introduction",modelValue:a.formData.intro_paragraph,"onUpdate:modelValue":e[2]||(e[2]=t=>a.formData.intro_paragraph=t)},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{class:"my-4"}),e[24]||(e[24]=d("h3",null,"Education",-1)),l(u,null,{default:o(()=>[l(r,{cols:"12",md:"4"},{default:o(()=>[l(m,{label:"Degree",modelValue:a.formData.education.degree,"onUpdate:modelValue":e[3]||(e[3]=t=>a.formData.education.degree=t)},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"4"},{default:o(()=>[l(m,{label:"Institution Name",modelValue:a.formData.education.institution_name,"onUpdate:modelValue":e[4]||(e[4]=t=>a.formData.education.institution_name=t)},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"4"},{default:o(()=>[l(m,{label:"Graduation Date",modelValue:a.formData.education.graduation_date,"onUpdate:modelValue":e[5]||(e[5]=t=>a.formData.education.graduation_date=t),type:"date"},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{class:"my-4"}),e[25]||(e[25]=d("h3",null,"Experience",-1)),l(u,null,{default:o(()=>[l(r,{cols:"12",md:"4"},{default:o(()=>[l(m,{label:"Job Title",modelValue:a.formData.experience.job_title,"onUpdate:modelValue":e[6]||(e[6]=t=>a.formData.experience.job_title=t)},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"4"},{default:o(()=>[l(m,{label:"Company Name",modelValue:a.formData.experience.company_name,"onUpdate:modelValue":e[7]||(e[7]=t=>a.formData.experience.company_name=t)},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"4"},{default:o(()=>[l(m,{label:"Start Date",modelValue:a.formData.experience.start_date,"onUpdate:modelValue":e[8]||(e[8]=t=>a.formData.experience.start_date=t),type:"date"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"4"},{default:o(()=>[l(m,{label:"End Date",modelValue:a.formData.experience.end_date,"onUpdate:modelValue":e[9]||(e[9]=t=>a.formData.experience.end_date=t),type:"date"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"8"},{default:o(()=>[l(p,{label:"Job Description",modelValue:a.formData.experience.job_description,"onUpdate:modelValue":e[10]||(e[10]=t=>a.formData.experience.job_description=t)},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{class:"my-4"}),e[26]||(e[26]=d("h3",null,"Projects",-1)),l(u,null,{default:o(()=>[l(r,{cols:"12",md:"4"},{default:o(()=>[l(m,{label:"Project Name",modelValue:a.formData.project.project_name,"onUpdate:modelValue":e[11]||(e[11]=t=>a.formData.project.project_name=t)},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"4"},{default:o(()=>[l(p,{label:"Description",modelValue:a.formData.project.description,"onUpdate:modelValue":e[12]||(e[12]=t=>a.formData.project.description=t)},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"4"},{default:o(()=>[l(m,{label:"Project Link",modelValue:a.formData.project.project_link,"onUpdate:modelValue":e[13]||(e[13]=t=>a.formData.project.project_link=t)},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{class:"my-4"}),e[27]||(e[27]=d("h3",null,"Skills",-1)),l(u,null,{default:o(()=>[l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{label:"Skill Name",modelValue:a.formData.skills.skill_name,"onUpdate:modelValue":e[14]||(e[14]=t=>a.formData.skills.skill_name=t)},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{label:"Proficiency Level",modelValue:a.formData.skills.proficiency_level,"onUpdate:modelValue":e[15]||(e[15]=t=>a.formData.skills.proficiency_level=t)},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{class:"my-4"}),e[28]||(e[28]=d("h3",null,"Interests",-1)),l(u,null,{default:o(()=>[l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{label:"Interest",modelValue:a.formData.interests.interest,"onUpdate:modelValue":e[16]||(e[16]=t=>a.formData.interests.interest=t)},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(p,{label:"Description",modelValue:a.formData.interests.description,"onUpdate:modelValue":e[17]||(e[17]=t=>a.formData.interests.description=t)},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{class:"my-4"}),e[29]||(e[29]=d("h3",null,"Awards",-1)),l(u,null,{default:o(()=>[l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{label:"Award Name",modelValue:a.formData.awards.award_name,"onUpdate:modelValue":e[18]||(e[18]=t=>a.formData.awards.award_name=t)},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{label:"Date Earned",modelValue:a.formData.awards.date_earned,"onUpdate:modelValue":e[19]||(e[19]=t=>a.formData.awards.date_earned=t),type:"date"},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{justify:"center",class:"my-4"},{default:o(()=>[l(_,{color:"success",onClick:V.saveData},{default:o(()=>e[21]||(e[21]=[f("Save")])),_:1},8,["onClick"]),l(_,{color:"error",onClick:V.cancel},{default:o(()=>e[22]||(e[22]=[f("Cancel")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var q=y(v,[["render",C]]);export{q as default};
